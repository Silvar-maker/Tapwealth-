<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - TapWealth</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f0f2f5;
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Montserrat', sans-serif;
        }
        .facebook-blue {
            background-color: #1877F2;
        }
        .facebook-dark {
            background-color: #1C1E21;
        }
        .facebook-light {
            background-color: #f0f2f5;
        }
        .facebook-card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }
        .facebook-header {
            background-color: white;
            border-bottom: 1px solid #dddfe2;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .gradient-text {
            background: linear-gradient(135deg, #0056FF 0%, #C0C0C0 50%, #FFFFFF 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
    </style>
</head>
<body class="facebook-light min-h-screen">
    <!-- Facebook Header -->
    <header class="facebook-header">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center">
                        <i class="fas fa-dollar-sign text-blue-600 text-2xl mr-2"></i>
                        <span class="text-xl font-bold gradient-text">TapWealth</span>
                    </div>
                </div>
                <div class="hidden md:flex items-center space-x-6">
                    <a href="index.html" class="text-gray-600 hover:text-blue-600 font-medium">Dashboard</a>
                    <a href="about.html" class="text-gray-600 hover:text-blue-600 font-medium">About</a>
                    <a href="features.html" class="text-gray-600 hover:text-blue-600 font-medium">Features</a>
                    <a href="contact.html" class="text-gray-600 hover:text-blue-600 font-medium">Contact</a>
                    <button onclick="logoutAdmin()" class="bg-red-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-red-700 transition-colors">Logout</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Admin Login Form -->
    <div id="admin-login" class="max-w-md mx-auto px-4 sm:px-6 lg:px-8 py-20">
        <div class="facebook-card p-8 border text-center">
            <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6">
                <i class="fas fa-shield-alt text-blue-600 text-2xl"></i>
            </div>
            <h2 class="text-2xl font-bold text-gray-800 mb-6">Admin Login</h2>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Admin Password</label>
                    <input type="password" id="admin-password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-gray-800" placeholder="Enter admin password">
                </div>
                <button onclick="checkAdminPassword()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition-colors">
                    Login
                </button>
                <p class="text-gray-600 text-sm mt-4">
                    <strong>Note:</strong> This admin panel allows you to manage users, adjust payout rates, and monitor platform performance.
                </p>
            </div>
        </div>
    </div>

    <!-- Admin Dashboard -->
    <div id="admin-dashboard" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 hidden">
        <h1 class="text-4xl font-bold text-center text-gray-800 mb-12 gradient-text">
            Admin Dashboard
        </h1>
        
        <!-- Navigation Tabs -->
        <div class="flex flex-wrap justify-center gap-4 mb-8">
            <button onclick="showAdminSection('overview')" id="tab-overview" class="px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors">
                Overview
            </button>
            <button onclick="showAdminSection('users')" id="tab-users" class="px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300 transition-colors">
                Users
            </button>
            <button onclick="showAdminSection('payouts')" id="tab-payouts" class="px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300 transition-colors">
                Payout Rates
            </button>
            <button onclick="showAdminSection('withdrawals')" id="tab-withdrawals" class="px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300 transition-colors">
                Withdrawals
            </button>
            <button onclick="showAdminSection('settings')" id="tab-settings" class="px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300 transition-colors">
                Settings
            </button>
        </div>

        <!-- Overview Section -->
        <div id="section-overview" class="section-tabs active">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">Platform Overview</h2>
            
            <!-- Stats Cards -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="facebook-card p-6 border">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-600 text-sm">Total Users</p>
                            <p class="text-2xl font-bold text-gray-800" id="total-users">0</p>
                        </div>
                        <i class="fas fa-users text-blue-600 text-2xl"></i>
                    </div>
                </div>
                
                <div class="facebook-card p-6 border">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-600 text-sm">Active Today</p>
                            <p class="text-2xl font-bold text-gray-800" id="active-today">0</p>
                        </div>
                        <i class="fas fa-chart-line text-green-600 text-2xl"></i>
                    </div>
                </div>
                
                <div class="facebook-card p-6 border">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-600 text-sm">Total Earnings</p>
                            <p class="text-2xl font-bold text-gray-800 text-green-600" id="total-earnings">₦0</p>
                        </div>
                        <i class="fas fa-wallet text-purple-600 text-2xl"></i>
                    </div>
                </div>
                
                <div class="facebook-card p-6 border">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-600 text-sm">Pending Withdrawals</p>
                            <p class="text-2xl font-bold text-gray-800 text-red-600" id="pending-withdrawals">0</p>
                        </div>
                        <i class="fas fa-hourglass-half text-orange-600 text-2xl"></i>
                    </div>
                </div>
            </div>
            
            <!-- Recent Activity -->
            <div class="facebook-card p-6 border mb-8">
                <h3 class="text-xl font-bold text-gray-800 mb-4">Recent Activity</h3>
                <div class="space-y-4" id="recent-activity">
                    <div class="flex justify-between items-center pb-4 border-b border-gray-200 last:border-0 last:pb-0">
                        <div>
                            <p class="font-medium text-gray-800">Platform initialized</p>
                            <p class="text-sm text-gray-500">System startup</p>
                        </div>
                        <div class="text-sm text-gray-500">Just now</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Users Section -->
        <div id="section-users" class="section-tabs">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">User Management</h2>
            
            <div class="facebook-card p-6 border mb-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-bold text-gray-800">All Users</h3>
                    <div class="relative">
                        <input type="text" id="search-users" placeholder="Search users..." class="pl-10 pr-4 py-2 border border-gray-300 rounded-lg bg-white text-gray-800">
                        <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                    </div>
                </div>
                
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead>
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">User</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Email</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Balance</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Referrals</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Joined</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="users-table-body" class="bg-white divide-y divide-gray-200">
                            <!-- Users will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Payout Rates Section -->
        <div id="section-payouts" class="section-tabs">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">Payout Rate Management</h2>
            
            <div class="facebook-card p-6 border mb-6">
                <h3 class="text-lg font-bold text-gray-800 mb-4">Adjust Earning Rates</h3>
                <p class="text-gray-600 mb-6">
                    These rates determine how much users earn for each activity. Changes take effect immediately.
                </p>
                
                <div class="space-y-6">
                    <div class="flex justify-between items-center p-4 bg-gray-50 rounded-lg">
                        <div>
                            <h4 class="font-bold text-gray-800">View Ads Rate</h4>
                            <p class="text-sm text-gray-600">Amount earned per ad view</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-gray-700">₦</span>
                            <input type="number" id="ads-rate" min="1" max="1000" value="5" class="w-24 px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-800 text-right">
                        </div>
                    </div>
                    
                    <div class="flex justify-between items-center p-4 bg-gray-50 rounded-lg">
                        <div>
                            <h4 class="font-bold text-gray-800">PTC Clicks Rate</h4>
                            <p class="text-sm text-gray-600">Amount earned per click</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-gray-700">₦</span>
                            <input type="number" id="ptc-rate" min="1" max="1000" value="5" class="w-24 px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-800 text-right">
                        </div>
                    </div>
                    
                    <div class="flex justify-between items-center p-4 bg-gray-50 rounded-lg">
                        <div>
                            <h4 class="font-bold text-gray-800">Referral Bonus</h4>
                            <p class="text-sm text-gray-600">Amount earned per successful referral</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-gray-700">₦</span>
                            <input type="number" id="referral-rate" min="50" max="10000" value="150" class="w-24 px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-800 text-right">
                        </div>
                    </div>
                    
                    <div class="flex justify-between items-center p-4 bg-gray-50 rounded-lg">
                        <div>
                            <h4 class="font-bold text-gray-800">Video Ads Rate</h4>
                            <p class="text-sm text-gray-600">Amount earned per video watched</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <span class="text-gray-700">₦</span>
                            <input type="number" id="video-rate" min="1" max="1000" value="10" class="w-24 px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-800 text-right">
                        </div>
                    </div>
                    
                    <div class="flex justify-between items-center p-4 bg-gray-50 rounded-lg">
                        <div>
                            <h4 class="font-bold text-gray-800">Survey Earnings</h4>
                            <p class="text-sm text-gray-600">Range of earnings per survey</p>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="text-gray-700">₦</span>
                            <input type="number" id="survey-min" min="10" max="1000" value="50" class="w-20 px-2 py-1 border border-gray-300 rounded bg-white text-gray-800 text-right">
                            <span class="text-gray-700">-</span>
                            <input type="number" id="survey-max" min="10" max="1000" value="200" class="w-20 px-2 py-1 border border-gray-300 rounded bg-white text-gray-800 text-right">
                        </div>
                    </div>
                </div>
                
                <div class="mt-6">
                    <button onclick="savePayoutRates()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition-colors">
                        Save Payout Rates
                    </button>
                </div>
            </div>
        </div>

        <!-- Withdrawals Section -->
        <div id="section-withdrawals" class="section-tabs">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">Withdrawal Requests</h2>
            
            <div class="facebook-card p-6 border">
                <h3 class="text-lg font-bold text-gray-800 mb-4">Pending Withdrawals</h3>
                <p class="text-gray-600 mb-6">
                    Review and process withdrawal requests from users.
                </p>
                
                <div class="space-y-4" id="withdrawal-requests">
                    <div class="text-center py-8 text-gray-500">
                        <i class="fas fa-inbox text-3xl mb-3"></i>
                        <p>No pending withdrawal requests</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Section -->
        <div id="section-settings" class="section-tabs">
            <h2 class="text-2xl font-bold text-gray-800 mb-6">Platform Settings</h2>
            
            <div class="space-y-6">
                <div class="facebook-card p-6 border">
                    <h3 class="text-lg font-bold text-gray-800 mb-4">Security Settings</h3>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Admin Password</label>
                            <input type="password" id="new-admin-password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-gray-800" placeholder="Enter new admin password">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Confirm Password</label>
                            <input type="password" id="confirm-admin-password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white text-gray-800" placeholder="Confirm new admin password">
                        </div>
                        <button onclick="changeAdminPassword()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition-colors">
                            Change Admin Password
                        </button>
                    </div>
                </div>
                
                <div class="facebook-card p-6 border">
                    <h3 class="text-lg font-bold text-gray-800 mb-4">Platform Configuration</h3>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="font-medium text-gray-800">Maintenance Mode</p>
                                <p class="text-sm text-gray-600">Temporarily disable user access</p>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" id="maintenance-mode" class="sr-only peer">
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-slate-600 peer-checked:bg-blue-600"></div>
                            </label>
                        </div>
                        
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="font-medium text-gray-800">Email Notifications</p>
                                <p class="text-sm text-gray-600">Send platform updates to users</p>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" id="email-notifications" class="sr-only peer" checked>
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-slate-600 peer-checked:bg-blue-600"></div>
                            </label>
                        </div>
                        
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="font-medium text-gray-800">Auto Withdrawals</p>
                                <p class="text-sm text-gray-600">Process withdrawals automatically</p>
                            </div>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" id="auto-withdrawals" class="sr-only peer">
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-slate-600 peer-checked:bg-blue-600"></div>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Admin password (CHANGE THIS TO YOUR OWN SECURE PASSWORD)
        const ADMIN_PASSWORD = "admin123";
        
        // Tab navigation
        function showAdminSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.section-tabs').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById('section-' + sectionId).classList.add('active');
            
            // Update tab styling
            document.querySelectorAll('[id^="tab-"]').forEach(tab => {
                tab.classList.remove('bg-blue-600', 'text-white');
                tab.classList.add('bg-gray-200', 'text-gray-700');
            });
            
            document.getElementById('tab-' + sectionId).classList.remove('bg-gray-200', 'text-gray-700');
            document.getElementById('tab-' + sectionId).classList.add('bg-blue-600', 'text-white');
        }
        
        // Admin authentication
        function checkAdminPassword() {
            const password = document.getElementById('admin-password').value;
            if (password === ADMIN_PASSWORD) {
                localStorage.setItem('tapwealth_is_admin', 'true');
                loadAdminDashboard();
            } else {
                alert('Invalid admin password!');
            }
        }
        
        function logoutAdmin() {
            localStorage.removeItem('tapwealth_is_admin');
            document.getElementById('admin-dashboard').classList.add('hidden');
            document.getElementById('admin-login').classList.remove('hidden');
            document.getElementById('admin-password').value = '';
        }
        
        // Load admin dashboard
        function loadAdminDashboard() {
            document.getElementById('admin-login').classList.add('hidden');
            document.getElementById('admin-dashboard').classList.remove('hidden');
            loadPlatformStats();
            loadUsersTable();
            loadPayoutRates();
        }
        
        // Platform statistics
        function loadPlatformStats() {
            const users = JSON.parse(localStorage.getItem('tapwealth_users') || '[]');
            const totalUsers = users.length;
            const totalEarnings = users.reduce((sum, user) => sum + user.balance, 0);
            const totalReferrals = users.reduce((sum, user) => sum + (user.referrals || 0), 0);
            const pendingWithdrawals = 0; // For now
            
            document.getElementById('total-users').textContent = totalUsers;
            document.getElementById('active-today').textContent = Math.floor(totalUsers * 0.3); // 30% active
            document.getElementById('total-earnings').textContent = '₦' + totalEarnings.toLocaleString();
            document.getElementById('pending-withdrawals').textContent = pendingWithdrawals;
        }
        
        // User management
        function loadUsersTable() {
            const users = JSON.parse(localStorage.getItem('tapwealth_users') || '[]');
            const tableBody = document.getElementById('users-table-body');
            tableBody.innerHTML = '';
            
            users.forEach(user => {
                const row = document.createElement('tr');
                row.className = 'hover:bg-gray-50';
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${user.name}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${user.email}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">₦${user.balance.toLocaleString()}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${user.referrals || 0}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${new Date(user.createdAt).toLocaleDateString()}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <button onclick="editUser(${user.id})" class="text-blue-600 hover:text-blue-900 mr-3">Edit</button>
                        <button onclick="deleteUser(${user.id})" class="text-red-600 hover:text-red-900">Delete</button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }
        
        function editUser(userId) {
            alert('Edit user functionality would be implemented here.');
        }
        
        function deleteUser(userId) {
            if (confirm('Are you sure you want to delete this user? This cannot be undone.')) {
                let users = JSON.parse(localStorage.getItem('tapwealth_users') || '[]');
                users = users.filter(user => user.id !== userId);
                localStorage.setItem('tapwealth_users', JSON.stringify(users));
                loadUsersTable();
                loadPlatformStats();
                alert('User deleted successfully!');
            }
        }
        
        // Payout rates management
        function loadPayoutRates() {
            const rates = JSON.parse(localStorage.getItem('tapwealth_payout_rates') || '{"ads":5,"ptc":5,"referral":150,"video":10,"surveyMin":50,"surveyMax":200}');
            document.getElementById('ads-rate').value = rates.ads;
            document.getElementById('ptc-rate').value = rates.ptc;
            document.getElementById('referral-rate').value = rates.referral;
            document.getElementById('video-rate').value = rates.video;
            document.getElementById('survey-min').value = rates.surveyMin;
            document.getElementById('survey-max').value = rates.surveyMax;
        }
        
        function savePayoutRates() {
            const rates = {
                ads: parseInt(document.getElementById('ads-rate').value),
                ptc: parseInt(document.getElementById('ptc-rate').value),
                referral: parseInt(document.getElementById('referral-rate').value),
                video: parseInt(document.getElementById('video-rate').value),
                surveyMin: parseInt(document.getElementById('survey-min').value),
                surveyMax: parseInt(document.getElementById('survey-max').value)
            };
            localStorage.setItem('tapwealth_payout_rates', JSON.stringify(rates));
            alert('Payout rates updated successfully!');
        }
        
        // Security settings
        function changeAdminPassword() {
            const newPassword = document.getElementById('new-admin-password').value;
            const confirmPassword = document.getElementById('confirm-admin-password').value;
            
            if (!newPassword || !confirmPassword) {
                alert('Please fill in both password fields');
                return;
            }
            
            if (newPassword !== confirmPassword) {
                alert('Passwords do not match!');
                return;
            }
            
            // In a real app, this would be encrypted and stored securely
            // For this demo, we'll just alert that it would be changed
            alert('Admin password would be changed to: ' + newPassword);
            document.getElementById('new-admin-password').value = '';
            document.getElementById('confirm-admin-password').value = '';
        }
        
        // Check authentication
        window.addEventListener('DOMContentLoaded', function() {
            // Check if already logged in as admin
            const isAdmin = localStorage.getItem('tapwealth_is_admin');
            if (isAdmin === 'true') {
                loadAdminDashboard();
            }
        });
    </script>
</body>
</html>
